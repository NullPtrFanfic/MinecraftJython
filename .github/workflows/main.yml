name: Java CI

on:

  push:

    branches: [master]

  pull_request:

    branches: [master]

jobs:

  build:

    runs-on: ubuntu-latest

    steps:

      - name: Checkout code

        uses: actions/checkout@v2

      - name: Set up JDK 1.8

        uses: actions/setup-java@v1

        with:

          java-version: 1.8

      - name: Build

        run: |
          #!/bin/zsh
          cd ServerPythonInterpreterPlugin
          mvn clean package
          cp target/MinecraftPyServerPlugin.jar .. 
          
      - name: Upload artifact

        uses: actions/upload-artifact@v2

        with:

          name: artifact

          path: MinecraftPyServer.jar

